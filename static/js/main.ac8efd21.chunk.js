(this.webpackJsonplooking_for_book=this.webpackJsonplooking_for_book||[]).push([[0],{3:function(e,t,o){e.exports={app:"App_app__1YSN_",hat:"App_hat__216gS",booksWrapper:"App_booksWrapper__1ezzE",booksContainer:"App_booksContainer__LZ7oM",book:"App_book__1LxLc"}},30:function(e,t,o){},56:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(9),s=o.n(c),r=(o(30),o(25)),i=o(3),l=o.n(i),u=o(4),j=o(13),b=o(6),d="CHANGE_SEARCH_QUERY",p="RENEW_SEARCH_RESULTS",h="CHANGE_IS_LOADING_STATUS",f=function(e){return{type:h,payload:{isLoading:e}}},g=function(e,t){return{type:p,payload:{books:e,totalCount:t,isLoading:!1}}},m={pageSize:2,books:[],isLoading:!1,totalCount:0,queryString:""},O=o.p+"static/media/preloader.53b421a8.gif",x=o(24),v=o.n(x).a.create({baseURL:"https://www.googleapis.com/books/v1/volumes"});v.defaults.params={},v.defaults.params.key="AIzaSyCI0tPq7SoEIfpnkJRjqbu_YIDUeMVvZHU";var k=function(e,t,o){return v.get("?q=".concat(e,"&maxResults=").concat(t,"&startIndex=").concat(o)).then((function(e){return 200===e.status?e.data:{totalItems:0,items:[],kind:"Unknown error"}})).catch((function(e){return console.log(e),{totalItems:0,items:[],kind:"Unknown error"}}))},_=o(1);var y=function(){return console.log("from app"),Object(_.jsxs)("div",{className:l.a.app,children:[Object(_.jsx)(S,{}),Object(_.jsx)(C,{})]})},S=a.a.memo((function(){console.log("from hat");var e=Object(n.useState)(""),t=Object(r.a)(e,2),o=t[0],a=t[1],c=Object(u.b)();return Object(_.jsxs)("div",{className:l.a.hat,children:[Object(_.jsx)("h1",{children:"Search for books"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("input",{value:o,onChange:function(e){a(e.currentTarget.value.trim())},onKeyPress:function(e){"Enter"===e.code&&o&&c({type:d,payload:{queryString:o}})}}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("select",{value:"first",children:[Object(_.jsx)("option",{value:"first",children:"first"}),Object(_.jsx)("option",{value:"second",children:"second"})]}),Object(_.jsxs)("select",{value:"first",children:[Object(_.jsx)("option",{value:"first",children:"first"}),Object(_.jsx)("option",{value:"second",children:"second"})]})]})]})]})})),C=a.a.memo((function(){console.log("from Books");var e=Object(u.c)((function(e){return e.searchResults})),t=Object(u.b)();return Object(n.useEffect)((function(){console.log("from useEffect"),e.queryString&&(t(f(!0)),k(e.queryString,e.pageSize,0).then((function(e){t(g(e.items,e.totalItems))})))}),[e.queryString]),Object(_.jsxs)(a.a.Fragment,{children:[e.totalCount>0&&Object(_.jsx)(a.a.Fragment,{children:Object(_.jsxs)("div",{className:l.a.booksWrapper,children:[Object(_.jsx)("div",{children:e.totalCount}),Object(_.jsx)("div",{className:l.a.booksContainer,children:e.books.map((function(e,t){return Object(_.jsx)(I,{title:e.volumeInfo.title,category:e.volumeInfo.categories[0],imageUrl:e.volumeInfo.imageLinks.smallThumbnail,authors:e.volumeInfo.authors},t)}))}),!e.isLoading&&Object(_.jsx)("div",{onClick:function(){t(f(!0)),k(e.queryString,e.pageSize,e.books.length).then((function(e){t(g(e.items,e.totalItems))}))},children:"Load more"})]})}),e.isLoading&&Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:O,alt:"preloader"})})]})})),I=a.a.memo((function(e){return Object(_.jsxs)("div",{className:l.a.book,children:[Object(_.jsx)("img",{src:e.imageUrl,alt:"bookPic"}),Object(_.jsx)("h3",{children:e.title}),Object(_.jsx)("div",{children:Object(_.jsx)("span",{className:l.a.authors,children:e.authors})}),Object(_.jsx)("div",{children:Object(_.jsx)("span",{className:l.a.category,children:e.category})})]})})),L=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,57)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;o(e),n(e),a(e),c(e),s(e)}))},E=o(14),A=Object(E.a)({searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(b.a)(Object(b.a)({},e),{},{totalCount:t.payload.totalCount,isLoading:t.payload.isLoading,books:[].concat(Object(j.a)(e.books),Object(j.a)(t.payload.books))});case h:case d:return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}}}),N=Object(E.b)(A);s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(u.a,{store:N,children:Object(_.jsx)(y,{})})}),document.getElementById("root")),L()}},[[56,1,2]]]);
//# sourceMappingURL=main.ac8efd21.chunk.js.map